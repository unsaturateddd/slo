<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game</title>  
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      background: #222;
    }

    .device-info {
      display: flex;
      align-items: center;
    }

    .device-info-text {
      margin-left: 5px;
    }

    .bot-menu {
      position: relative;
    }

    .bot-trigger {
      cursor: pointer;
    }

    .bot-dropdown {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background: #222;
      border-radius: 10px;
      padding: 10px;
      min-width: 160px;
    }

    .bot-dropdown .bot-item {
      padding: 5px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .bot-dropdown .bot-item:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .back-button-container {
      margin-top: 10px;
    }

    .back-button {
      text-decoration: none;
      color: white;
      display: inline-block;
      padding: 5px 10px;
      border: 1px solid #555;
      border-radius: 5px;
    }

    .lang-options {
      display: none;
      background: #333;
      border-radius: 10px;
      padding: 5px;
      margin-top: 5px;
    }

    .lang-option {
      display: flex;
      align-items: center;
      padding: 5px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .lang-option:hover {
      background: rgba(255,255,255,0.1);
    }

    .lang-flag {
      width: 20px;
      height: 14px;
      margin-right: 8px;
      border-radius: 2px;
    }

    .settings-popup,
    .profile-popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #222;
      padding: 20px;
      border-radius: 10px;
      z-index: 999;
    }

    .settings-box, .profile-box {
      text-align: center;
    }

    .settings-button, .profile-close, #nickname-save-btn {
      display: block;
      margin: 10px auto;
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background: #444;
      color: white;
    }

    .settings-button:hover,
    .profile-close:hover,
    #nickname-save-btn:hover {
      background: #555;
    }
  </style>
</head>
<body>        
      
  <div class="top-bar">
    <div class="device-info" id="device-info">
      <span class="device-info-icon" id="device-icon">üíª</span>
      <span class="device-info-text" id="device-text">–ü–ö</span>
    </div>

    <div class="bot-menu" id="bot-menu">
      <div class="bot-menu-glow">
        <div class="bot-trigger" onclick="toggleBotMenu()">
          ‚ò∞
        </div>
      </div>
      <div class="bot-dropdown" id="bot-dropdown">
        <div class="bot-item" onclick="openLanguageSelector()">üåê –Ø–∑—ã–∫</div>
        <div class="lang-options" id="lang-options"></div>
        <div class="bot-item" onclick="openProfile()">üë§ –ü—Ä–æ—Ñ–∏–ª—å</div>
        <div class="bot-item" onclick="toggleSettingsMenu()">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
        <div class="back-button-container">
          <a href="../index.html" class="back-button">‚Üê Back</a>
        </div>
      </div>
    </div>
  </div>

  <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
  <div class="settings-popup" id="settings-popup">
    <div class="settings-box">
      <div class="settings-title">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
      <button onclick="toggleGlow()" class="settings-button" data-type="glow">üîÜ –í—ã–∫–ª—é—á–∏—Ç—å —Å–∏—è–Ω–∏–µ</button>
      <button onclick="toggleStars()" class="settings-button" data-type="stars">‚ú® –í—ã–∫–ª—é—á–∏—Ç—å –∑–≤—ë–∑–¥—ã</button>
      <button onclick="toggleBackgroundStyle()" class="settings-button" data-type="bg-style" id="bg-style-btn">üåå –°–º–µ–Ω–∏—Ç—å —Ñ–æ–Ω</button>
      <button onclick="closeSettings()" class="settings-close">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
  <div class="profile-popup" id="profile-popup">
    <div class="profile-box">
      <div class="profile-title" id="profile-title">üë§ –ü—Ä–æ—Ñ–∏–ª—å</div>

      <div id="nickname-section">
        <label for="nickname-input" id="nickname-label">–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º:</label>
        <input type="text" id="nickname-input" placeholder="–í–∞—à –Ω–∏–∫–Ω–µ–π–º">
        <button id="nickname-save-btn" onclick="saveNickname()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>

      <div id="profile-info" style="display: none;">
        <p><strong id="label-nickname">–ù–∏–∫–Ω–µ–π–º:</strong> <span id="nickname-display"></span></p>
        <p><strong id="label-status">–°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞:</strong> <span id="status-text" style="color: limegreen;">üü¢ –ó–µ–ª—ë–Ω—ã–π</span></p>
        <p><strong id="label-chance">–®–∞–Ω—Å –≤—ã–¥–∞—á–∏:</strong> <span>81%</span></p>
      </div>

      <button class="profile-close" id="close-profile-btn" onclick="closeProfile()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <script>
    // ===== –Ø–ó–´–ö–ò =====
    const languages = [
      { code: "en", name: "English", flag: "https://flagcdn.com/w20/gb.png" },
      { code: "ru", name: "–†—É—Å—Å–∫–∏–π", flag: "https://flagcdn.com/w20/ru.png" },
      { code: "ar", name: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", flag: "https://flagcdn.com/w20/sa.png" },
      { code: "hi", name: "‡§π‡§ø‡§®‡•ç‡§¶‡•Ä", flag: "https://flagcdn.com/w20/in.png" },
      { code: "pt", name: "Portugu√™s", flag: "https://flagcdn.com/w20/pt.png" }
    ];

    let currentLang = localStorage.getItem("lang") || "en";

    function toggleBotMenu() {
      const menu = document.getElementById("bot-dropdown");
      menu.style.display = menu.style.display === "block" ? "none" : "block";
    }

    function openLanguageSelector() {
      const langOptions = document.getElementById("lang-options");
      langOptions.innerHTML = "";

      languages.forEach(lang => {
        const div = document.createElement("div");
        div.classList.add("lang-option");
        div.onclick = () => setLanguage(lang.code);

        div.innerHTML = `
          <img src="${lang.flag}" alt="${lang.name}" class="lang-flag">
          <span>${lang.name}</span>
        `;

        langOptions.appendChild(div);
      });

      langOptions.style.display = 
        langOptions.style.display === "block" ? "none" : "block";
    }

    function setLanguage(langCode) {
      currentLang = langCode;
      localStorage.setItem("lang", langCode);

      const selected = languages.find(l => l.code === langCode);
      document.getElementById("device-icon").innerHTML =
        `<img src="${selected.flag}" class="lang-flag">`;
      document.getElementById("device-text").textContent = selected.name;

      applyTranslations(langCode);
      document.getElementById("lang-options").style.display = "none";
    }

    const translations = {
      en: {
        profile: "Profile",
        settings: "Settings",
        back: "‚Üê Back",
        nickname: "Enter nickname:",
        save: "Save",
        accountStatus: "Account status:",
        chance: "Chance of winning:"
      },
      ru: {
        profile: "–ü—Ä–æ—Ñ–∏–ª—å",
        settings: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
        back: "‚Üê –ù–∞–∑–∞–¥",
        nickname: "–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º:",
        save: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
        accountStatus: "–°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞:",
        chance: "–®–∞–Ω—Å –≤—ã–¥–∞—á–∏:"
      },
      ar: {
        profile: "ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä",
        settings: "ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™",
        back: "‚Üê ÿ±ÿ¨Ÿàÿπ",
        nickname: "ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:",
        save: "ÿ≠ŸÅÿ∏",
        accountStatus: "ÿ≠ÿßŸÑÿ© ÿßŸÑÿ≠ÿ≥ÿßÿ®:",
        chance: "ŸÅÿ±ÿµÿ© ÿßŸÑŸÅŸàÿ≤:"
      },
      hi: {
        profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤",
        settings: "‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏",
        back: "‚Üê ‡§µ‡§æ‡§™‡§∏",
        nickname: "‡§®‡§ø‡§ï‡§®‡•á‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç:",
        save: "‡§∏‡§π‡•á‡§ú‡•á‡§Ç",
        accountStatus: "‡§ñ‡§æ‡§§‡§æ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø:",
        chance: "‡§ú‡•Ä‡§§‡§®‡•á ‡§ï‡•Ä ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ:"
      },
      pt: {
        profile: "Perfil",
        settings: "Configura√ß√µes",
        back: "‚Üê Voltar",
        nickname: "Digite o apelido:",
        save: "Salvar",
        accountStatus: "Status da conta:",
        chance: "Chance de ganhar:"
      }
    };

    function applyTranslations(lang) {
      const t = translations[lang];
      if (!t) return;

      document.querySelector("#profile-title").textContent = "üë§ " + t.profile;
      document.querySelector(".settings-title").textContent = "‚öôÔ∏è " + t.settings;
      document.querySelector(".back-button").textContent = t.back;
      document.querySelector("#nickname-label").textContent = t.nickname;
      document.querySelector("#nickname-save-btn").textContent = t.save;
      document.querySelector("#label-status").textContent = t.accountStatus;
      document.querySelector("#label-chance").textContent = t.chance;
    }

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    window.addEventListener("DOMContentLoaded", () => {
      setLanguage(currentLang);
    });

    // ===== –ü–†–û–§–ò–õ–¨ =====
    function openProfile() {
      document.getElementById("profile-popup").style.display = "block";
    }

    function closeProfile() {
      document.getElementById("profile-popup").style.display = "none";
    }

    function saveNickname() {
      const input = document.getElementById("nickname-input");
      if (input.value.trim() !== "") {
        document.getElementById("nickname-display").textContent = input.value;
        document.getElementById("profile-info").style.display = "block";
        input.value = "";
      }
    }

    // ===== –ù–ê–°–¢–†–û–ô–ö–ò =====
    function toggleSettingsMenu() {
      document.getElementById("settings-popup").style.display = "block";
    }

    function closeSettings() {
      document.getElementById("settings-popup").style.display = "none";
    }

    function toggleGlow() { alert("–¢—É—Ç –±—É–¥–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è —Å–∏—è–Ω–∏—è üåü"); }
    function toggleStars() { alert("–¢—É—Ç –±—É–¥–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è –∑–≤—ë–∑–¥ ‚ú®"); }
    function toggleBackgroundStyle() { alert("–¢—É—Ç –±—É–¥–µ—Ç —Å–º–µ–Ω–∞ —Ñ–æ–Ω–∞ üåå"); }
  </script>
</body>
</html>
